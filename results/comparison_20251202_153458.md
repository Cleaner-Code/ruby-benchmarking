# Ruby Benchmark Comparison

_Generated: 2025-12-02 15:34:58_

## Versions Compared

- **MRI**: `ruby 3.4.7p58`
- **JRuby 10**: `JRuby 10.0.2.0 (3.4.2) [21.0.9]`
- **JRuby 1.7**: `JRuby 1.7.27 (1.9.3) [1.8.0_472]`

## Technique Comparisons

Format: **time** (gc, heap MB) | \* = best for that Ruby

### String Building

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| + operator | 0.0274 (11, 187.6MB) | 0.0226 (1, 256.3MB) | **0.0208 (3, 66.8MB)** | JRuby 1.7 |
| << shovel | **0.0003 (187.7MB)** | 0.0018 (260.3MB) | 0.0009 (73.7MB) | MRI |
| Array#join | **0.0001\* (187.7MB)** | 0.0012\* (260.3MB) | 0.0010 (80.2MB) | MRI |
| StringIO | **0.0007 (187.7MB)** | 0.0025 (264.3MB) | 0.0009 (83.1MB) | MRI |
| concat | **0.0004 (187.7MB)** | 0.0019 (260.3MB) | 0.0008\* (77.3MB) | MRI |
| each_with_object | **0.0004 (187.7MB)** | 0.0017 (268.3MB) | 0.0013 (91.9MB) | MRI |
| inject << | **0.0004 (187.7MB)** | 0.0016 (272.3MB) | 0.0012 (100.5MB) | MRI |
| interpolation | 0.0380 (11, 187.9MB) | 0.0278 (1, 360.3MB) | **0.0257 (4, 97.1MB)** | JRuby 1.7 |

> **MRI**: Array#join | **JRuby 10**: Array#join | **JRuby 1.7**: concat

### Array Iteration

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| each + var | 0.0262 (195.6MB) | **0.0144 (391.3MB)** | 0.0413 (194.6MB) | JRuby 10 |
| for in | 0.0298 (195.6MB) | **0.0144 (269.0MB)** | 0.0294 (1, 89.0MB) | JRuby 10 |
| reduce block | 0.0321 (195.6MB) | **0.0217 (147.3MB)** | 0.0666 (2, 99.9MB) | JRuby 10 |
| reduce(:+) | **0.0010\* (195.6MB)** | 0.0129 (572.3MB) | 0.0145\* (143.5MB) | MRI |
| sum | 0.0013 (195.6MB) | **0.0010\* (420.3MB)** | - | JRuby 10 |
| while index | **0.0273 (195.6MB)** | 0.1248 (699.3MB) | 0.0715 (1, 80.3MB) | MRI |

> **MRI**: reduce(:+) | **JRuby 10**: sum | **JRuby 1.7**: reduce(:+)

### Array Building

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| << in times | 0.0027 (197.0MB) | **0.0017 (377.0MB)** | 0.0036 (88.5MB) | JRuby 10 |
| Array.new block | 0.0024 (195.7MB) | **0.0019 (317.0MB)** | 0.0042 (144.0MB) | JRuby 10 |
| Range#map | 0.0031 (196.2MB) | **0.0020 (345.0MB)** | 0.0031 (187.8MB) | JRuby 10 |
| Range#to_a | 0.0013\* (195.7MB) | 0.0013\* (289.0MB) | **0.0004\* (106.6MB)** | JRuby 1.7 |
| each_with_object | 0.0036 (197.0MB) | **0.0026 (437.0MB)** | 0.0067 (1, 71.5MB) | JRuby 10 |
| push in times | 0.0034 (197.0MB) | **0.0015 (409.0MB)** | 0.0067 (138.5MB) | JRuby 10 |

> **All agree**: Range#to_a

### Array Sorting

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| sort | **0.0077\* (197.2MB)** | 0.0361 (453.0MB) | 0.0189 (97.9MB) | MRI |
| sort block | 0.0315 (197.6MB) | **0.0314 (701.0MB)** | 0.0509 (1, 113.9MB) | JRuby 10 |
| sort! | **0.0080 (197.6MB)** | 0.0313 (469.0MB) | 0.0082\* (124.3MB) | MRI |
| sort_by | **0.0078 (197.8MB)** | 0.0187\* (729.0MB) | 0.0256 (157.1MB) | MRI |
| sort_by(&:itself) | **0.0078 (197.8MB)** | 0.0199 (99.9MB) | - | MRI |

> **MRI**: sort | **JRuby 10**: sort_by | **JRuby 1.7**: sort!

### Hash Building

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| Hash[] | **0.0055 (209.9MB)** | 0.0112 (279.9MB) | 0.0119 (195.5MB) | MRI |
| []= loop | **0.0077 (201.6MB)** | 0.0141 (143.9MB) | 0.0116\* (88.6MB) | MRI |
| each_with_object | **0.0080 (209.3MB)** | 0.0137 (207.9MB) | 0.0130 (170.2MB) | MRI |
| map.to_h | **0.0082 (208.0MB)** | 0.0114 (255.9MB) | - | MRI |
| zip.to_h | **0.0046\* (209.2MB)** | 0.0104\* (171.9MB) | - | MRI |

> **MRI**: zip.to_h | **JRuby 10**: zip.to_h | **JRuby 1.7**: []= loop

### Hash Access

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| [] existing | **0.0359 (271.5MB)** | 0.0390 (503.9MB) | 0.0526 (1, 205.0MB) | MRI |
| [] missing | **0.0343 (275.3MB)** | 0.0371 (607.9MB) | 0.0436\* (212.5MB) | MRI |
| dig | **0.0333\* (275.3MB)** | 0.0369 (222.0MB) | - | MRI |
| fetch default | 0.0386 (275.3MB) | **0.0334\* (663.9MB)** | 0.0449 (213.4MB) | JRuby 10 |
| fetch existing | **0.0348 (275.3MB)** | 0.0364 (555.9MB) | 0.0682 (1, 207.4MB) | MRI |
| || default | **0.0375 (275.3MB)** | 0.0377 (715.9MB) | 0.0482 (1, 207.1MB) | MRI |

> **MRI**: dig | **JRuby 10**: fetch default | **JRuby 1.7**: [] missing

### Conditionals

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| array lookup | **0.0256\* (261.0MB)** | 0.0617 (790.0MB) | 0.0292\* (267.1MB) | MRI |
| case/when | 0.1057 (261.3MB) | **0.0485 (574.0MB)** | 0.0887 (1, 276.6MB) | JRuby 10 |
| hash lookup | 0.0374 (261.0MB) | 0.0446 (682.0MB) | **0.0370 (277.8MB)** | JRuby 1.7 |
| if/elsif | 0.0377 (263.3MB) | **0.0285 (466.0MB)** | 0.0503 (1, 203.5MB) | JRuby 10 |
| ternary | 0.0374 (266.0MB) | **0.0281\* (358.0MB)** | 0.0483 (1, 238.7MB) | JRuby 10 |

> **MRI**: array lookup | **JRuby 10**: ternary | **JRuby 1.7**: array lookup

### Loops

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| loop+break | **0.0371 (261.0MB)** | 0.0482 (1, 297.3MB) | 0.0981 (1, 245.6MB) | MRI |
| range.each | 0.0263 (261.0MB) | **0.0176 (911.9MB)** | 0.0307\* (1, 228.4MB) | JRuby 10 |
| step | 0.0259 (261.0MB) | **0.0160\* (589.6MB)** | 0.0320 (1, 300.8MB) | JRuby 10 |
| times | 0.0328 (261.0MB) | **0.0166 (831.6MB)** | 0.0312 (1, 308.1MB) | JRuby 10 |
| upto | 0.0257 (261.0MB) | **0.0173 (511.9MB)** | 0.0313 (1, 280.3MB) | JRuby 10 |
| while | **0.0241\* (261.0MB)** | 0.1033 (431.6MB) | 0.0351 (1, 186.6MB) | MRI |

> **MRI**: while | **JRuby 10**: step | **JRuby 1.7**: range.each

### String Search

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| =~ regex | **0.2228 (15, 208.1MB)** | 0.2337 (753.3MB) | 0.2407 (331.3MB) | MRI |
| [] | 0.1588 (1, 261.1MB) | **0.0593 (345.3MB)** | 0.0618 (197.7MB) | JRuby 10 |
| include? | 0.1581 (261.0MB) | **0.0588 (317.3MB)** | 0.0657 (297.8MB) | JRuby 10 |
| index | 0.1576 (261.0MB) | **0.0591 (325.3MB)** | 0.0632 (319.3MB) | JRuby 10 |
| match? | **0.1996 (6, 207.9MB)** | 0.2227 (509.3MB) | - | MRI |
| start_with? | 0.0039\* (208.1MB) | **0.0021\* (765.3MB)** | 0.0280\* (3, 279.5MB) | JRuby 10 |

> **All agree**: start_with?

### Filtering

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| each + << | 0.0146 (219.6MB) | **0.0075 (422.4MB)** | 0.0183 (251.1MB) | JRuby 10 |
| filter_map | 0.0174 (225.4MB) | **0.0099 (594.4MB)** | - | JRuby 10 |
| partition[0] | **0.0176 (225.4MB)** | 0.0215 (534.4MB) | 0.0185 (286.1MB) | MRI |
| reject | 0.0126\* (219.6MB) | **0.0052 (366.4MB)** | 5.9519 (269.1MB) | JRuby 10 |
| select | 0.0127 (217.7MB) | **0.0050\* (845.3MB)** | 0.0142 (286.0MB) | JRuby 10 |
| select &:even? | 0.0184 (219.6MB) | 0.0202 (1, 306.4MB) | **0.0087\* (292.8MB)** | JRuby 1.7 |

> **MRI**: reject | **JRuby 10**: select | **JRuby 1.7**: select &:even?

### Transform

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| collect | 0.0122\* (235.0MB) | **0.0072 (356.8MB)** | 0.0210\* (136.6MB) | JRuby 10 |
| each_with_object | 0.0203 (235.5MB) | **0.0118 (512.8MB)** | 0.0457 (1, 80.9MB) | JRuby 10 |
| inject | **0.0210 (236.1MB)** | 0.0250 (716.8MB) | 0.0402 (1, 133.6MB) | MRI |
| map | 0.0125 (233.1MB) | **0.0070\* (754.4MB)** | 0.0237 (1, 94.8MB) | JRuby 10 |
| map &proc | 0.0126 (235.0MB) | **0.0119 (882.4MB)** | 0.0232 (176.6MB) | JRuby 10 |

> **MRI**: collect | **JRuby 10**: map | **JRuby 1.7**: collect

### Number Conversion

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| Integer() | **0.0049 (238.3MB)** | 0.0057 (884.8MB) | 0.0069 (128.0MB) | MRI |
| Integer(s,10) | 0.0071 (238.3MB) | **0.0068 (932.8MB)** | 0.0097 (1, 79.3MB) | JRuby 10 |
| map { to_i } | 0.0046 (238.3MB) | **0.0045\* (832.8MB)** | 0.0069 (181.0MB) | JRuby 10 |
| map(&:to_i) | 0.0040\* (238.3MB) | 0.0056 (780.8MB) | **0.0036\* (118.4MB)** | JRuby 1.7 |

> **MRI**: map(&:to_i) | **JRuby 10**: map { to_i } | **JRuby 1.7**: map(&:to_i)

### Nil Handling

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| compact.sum | **0.0016\* (239.4MB)** | 0.0034\* (608.8MB) | - | MRI |
| nil? ? 0 : itself | 0.0172 (239.4MB) | **0.0093 (664.8MB)** | - | JRuby 10 |
| to_i | 0.0209 (239.4MB) | **0.0076 (596.8MB)** | 0.0174 (140.1MB) | JRuby 10 |
| v.nil? ternary | 0.0144 (239.5MB) | **0.0097 (544.8MB)** | 0.0204 (142.4MB) | JRuby 10 |
| || default | **0.0142 (236.7MB)** | 0.0263 (1, 488.8MB) | 0.0155\* (142.7MB) | MRI |

> **MRI**: compact.sum | **JRuby 10**: compact.sum | **JRuby 1.7**: || default

### Object Duplication

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| Hash[] | 0.0086 (1, 254.4MB) | **0.0052 (556.5MB)** | 0.0061 (148.9MB) | JRuby 10 |
| clone | 0.0112 (257.6MB) | **0.0071 (964.8MB)** | 0.0101 (159.4MB) | JRuby 10 |
| dup | 0.0138 (1, 254.4MB) | **0.0062 (808.8MB)** | 0.0089 (159.9MB) | JRuby 10 |
| merge({}) | 0.0172 (4, 257.1MB) | **0.0064 (732.5MB)** | 0.0114 (191.4MB) | JRuby 10 |
| to_h | 0.0042\* (252.8MB) | **0.0019\* (736.5MB)** | 0.0052\* (83.3MB) | JRuby 10 |

> **All agree**: to_h

### Method Invocation

| Technique | MRI | JRuby 10 | JRuby 1.7 | Winner |
|:----------|----------:|----------:|----------:|:------:|
| __send__ | 0.0267 (242.7MB) | 0.0206 (964.5MB) | **0.0203 (117.6MB)** | JRuby 1.7 |
| direct | 0.0168\* (249.5MB) | **0.0070\* (736.5MB)** | 0.0155\* (129.3MB) | JRuby 10 |
| method.call | 0.0344 (243.8MB) | **0.0097 (904.5MB)** | 0.0168 (1, 71.0MB) | JRuby 10 |
| public_send | 0.0380 (245.2MB) | **0.0219 (904.5MB)** | 0.0225 (146.0MB) | JRuby 10 |
| send | 0.0270 (247.1MB) | **0.0206 (796.5MB)** | 0.0212 (175.3MB) | JRuby 10 |

> **All agree**: direct

## Operation Benchmarks

Format: **time** (gc collections, heap MB)

| Benchmark | MRI | JRuby 10 | JRuby 1.7 | Winner | Factor |
|:----------|----------:|----------:|----------:|:------:|-------:|
| Array creation (Array.new) | 0.2417 (1, 410.0MB) | **0.1969 (1, 726.4MB)** | 0.3061 (5, 172.5MB) | JRuby 10 | 1.6x |
| Array creation (literal) | 0.0037 (2, 308.6MB) | **0.0027 (1038.3MB)** | 0.0055 (197.5MB) | JRuby 10 | 2.1x |
| Array#compact | 0.2987 (3, 445.7MB) | **0.2802 (2, 141.9MB)** | 0.4198 (6, 295.8MB) | JRuby 10 | 1.5x |
| Array#each | 0.2572 (410.0MB) | **0.2571 (2, 125.4MB)** | 0.4464 (6, 181.4MB) | JRuby 10 | 1.7x |
| Array#flatten | 0.5376 (4, 452.1MB) | **0.2982 (1, 165.7MB)** | 0.5171 (5, 274.1MB) | JRuby 10 | 1.8x |
| Array#include? | 1.9825 (445.6MB) | 1.6614 (202.5MB) | **0.4683 (232.7MB)** | JRuby 1.7 | 4.2x |
| Array#index | 2.1902 (445.6MB) | 1.7069 (226.5MB) | **0.9140 (274.6MB)** | JRuby 1.7 | 2.4x |
| Array#map | 0.1216 (1, 410.1MB) | **0.1060 (1, 198.4MB)** | 0.2155 (3, 219.1MB) | JRuby 10 | 2.0x |
| Array#push (append) | 0.0169 (410.0MB) | **0.0085 (886.4MB)** | 0.0454 (1, 116.7MB) | JRuby 10 | 5.3x |
| Array#reduce | **0.3189 (410.0MB)** | 0.4526 (2, 286.2MB) | 0.6822 (11, 224.2MB) | MRI | 2.1x |
| Array#select | 0.1252 (1, 410.1MB) | **0.1164 (394.6MB)** | 0.1600 (2, 147.4MB) | JRuby 10 | 1.4x |
| Array#sort | **0.2675 (1, 410.1MB)** | 0.4752 (1, 202.0MB) | 0.3447 (254.2MB) | MRI | 1.8x |
| Array#sort_by | **0.6694 (50, 429.8MB)** | 1.1305 (3, 176.3MB) | 1.1485 (9, 154.1MB) | MRI | 1.7x |
| Array#uniq | 0.4479 (7, 445.6MB) | **0.4078 (1, 186.5MB)** | 0.5024 (4, 197.1MB) | JRuby 10 | 1.2x |
| Array#unshift (prepend) | **0.0004 (410.0MB)** | 0.0061 (890.4MB) | 0.0043 (120.0MB) | MRI | 15.5x |
| CSV.generate | 0.7650 (411, 580.5MB) | **0.3625 (2, 311.3MB)** | 0.6539 (12, 159.2MB) | JRuby 10 | 2.1x |
| CSV.parse | 0.8271 (285, 580.7MB) | **0.2830 (2, 134.7MB)** | 0.8029 (10, 161.4MB) | JRuby 10 | 2.9x |
| Date.parse | 0.1658 (17, 581.3MB) | **0.1006 (1, 195.2MB)** | 0.9653 (8, 58.6MB) | JRuby 10 | 9.6x |
| Deep hash tree creation | 0.0065 (6, 507.1MB) | **0.0057 (218.0MB)** | 0.0074 (74.5MB) | JRuby 10 | 1.3x |
| Float() parsing | **0.0620 (580.5MB)** | 0.1537 (432.1MB) | 0.1862 (2, 197.3MB) | MRI | 3.0x |
| Frozen string literals | 0.0148 (308.5MB) | **0.0064 (1018.3MB)** | 0.0180 (148.4MB) | JRuby 10 | 2.8x |
| Hash creation (from array) | 0.0846 (21, 449.6MB) | **0.0453 (310.0MB)** | 0.1067 (1, 247.5MB) | JRuby 10 | 2.4x |
| Hash creation (literal) | 0.0148 (17, 447.8MB) | **0.0116 (126.0MB)** | 0.0194 (1, 172.9MB) | JRuby 10 | 1.7x |
| Hash map keys | **0.1322 (24, 506.3MB)** | 0.1810 (253.5MB) | 0.2065 (3, 83.4MB) | MRI | 1.6x |
| Hash map values | **0.0580 (1, 506.4MB)** | 0.1118 (305.0MB) | 0.0838 (1, 99.9MB) | MRI | 1.9x |
| Hash#[] (read) | **0.0885 (449.6MB)** | 0.0928 (260.6MB) | 0.1054 (1, 248.5MB) | MRI | 1.2x |
| Hash#[]= (write) | **0.0337 (505.0MB)** | 0.1608 (186.8MB) | 0.0538 (1, 317.5MB) | MRI | 4.8x |
| Hash#each | **0.0712 (505.1MB)** | 0.0847 (1, 123.5MB) | 0.1736 (4, 85.2MB) | MRI | 2.4x |
| Hash#keys and Hash#values | **0.0135 (3, 505.1MB)** | 0.1906 (1, 124.7MB) | 0.1173 (116.7MB) | MRI | 14.1x |
| Hash#merge | 0.1612 (13, 505.3MB) | 0.3158 (1, 296.0MB) | **0.1421 (3, 73.7MB)** | JRuby 1.7 | 2.2x |
| Hash#select | **0.0868 (3, 506.4MB)** | 0.1458 (255.9MB) | 0.1741 (2, 127.2MB) | MRI | 2.0x |
| Hash#to_a | 0.1249 (51, 512.2MB) | **0.0511 (1, 158.0MB)** | 0.0541 (2, 167.9MB) | JRuby 10 | 2.4x |
| Integer() parsing | **0.0472 (580.5MB)** | 0.0552 (379.9MB) | 0.0712 (1, 106.5MB) | MRI | 1.5x |
| JSON.generate | **0.3141 (2, 583.7MB)** | 0.7221 (2, 299.3MB) | 0.9521 (13, 83.9MB) | MRI | 3.0x |
| JSON.parse | **0.4849 (260, 507.3MB)** | 2.3897 (6, 131.0MB) | 1.8687 (15, 113.9MB) | MRI | 4.9x |
| Line-by-line parsing | 0.3193 (47, 594.6MB) | **0.1200 (1, 232.7MB)** | 0.1968 (4, 98.4MB) | JRuby 10 | 2.7x |
| Nested hash access | 0.1817 (507.5MB) | **0.1234 (371.9MB)** | 0.1912 (1, 82.8MB) | JRuby 10 | 1.5x |
| Regex extraction | 0.0559 (32, 582.6MB) | **0.0557 (1, 93.5MB)** | 0.0631 (1, 103.0MB) | JRuby 10 | 1.1x |
| String encoding conversion | 2.3950 (27, 303.6MB) | 4.7039 (2, 986.3MB) | **1.1679 (25, 161.9MB)** | JRuby 1.7 | 4.0x |
| String#gsub (regex) | 8.6960 (9658, 300.2MB) | **3.3410 (2, 974.3MB)** | 3.9712 (47, 143.6MB) | JRuby 10 | 2.6x |
| String#match | **0.2622 (175, 300.2MB)** | 0.4070 (1, 854.2MB) | 0.4950 (3, 159.0MB) | MRI | 1.9x |
| String#scan (regex) | 7.4737 (5998, 300.3MB) | 2.6525 (18, 1107.8MB) | **2.4948 (24, 154.9MB)** | JRuby 1.7 | 3.0x |
| String#split | 3.6821 (505, 250.3MB) | **1.9310 (14, 685.8MB)** | 3.0740 (60, 213.1MB) | JRuby 10 | 1.9x |
| Tokenization (scan) | 0.6179 (465, 582.4MB) | 0.3961 (2, 289.3MB) | **0.3362 (2, 159.1MB)** | JRuby 1.7 | 1.8x |

## Summary

### Technique Wins

| Ruby | Wins |
|:-----|-----:|
| MRI | 32 |
| JRuby 10 | 44 |
| JRuby 1.7 | 7 |

### Operation Wins

| Ruby | Wins |
|:-----|-----:|
| MRI | 16 |
| JRuby 10 | 22 |
| JRuby 1.7 | 6 |

### Overall

| Ruby | Total Wins |
|:-----|----------:|
| JRuby 10 | 66 |
| MRI | 48 |
| JRuby 1.7 | 13 |

## Recommendations

Best technique to use for each category:

| Category | Recommendation |
|:---------|:---------------|
| String Building | MRI: `Array#join`, JRuby 10: `Array#join`, JRuby 1.7: `concat` |
| Array Iteration | MRI: `reduce(:+)`, JRuby 10: `sum`, JRuby 1.7: `reduce(:+)` |
| Array Building | `Range#to_a` |
| Array Sorting | MRI: `sort`, JRuby 10: `sort_by`, JRuby 1.7: `sort!` |
| Hash Building | MRI: `zip.to_h`, JRuby 10: `zip.to_h`, JRuby 1.7: `[]= loop` |
| Hash Access | MRI: `dig`, JRuby 10: `fetch default`, JRuby 1.7: `[] missing` |
| Conditionals | MRI: `array lookup`, JRuby 10: `ternary`, JRuby 1.7: `array lookup` |
| Loops | MRI: `while`, JRuby 10: `step`, JRuby 1.7: `range.each` |
| String Search | `start_with?` |
| Filtering | MRI: `reject`, JRuby 10: `select`, JRuby 1.7: `select &:even?` |
| Transform | MRI: `collect`, JRuby 10: `map`, JRuby 1.7: `collect` |
| Number Conversion | MRI: `map(&:to_i)`, JRuby 10: `map { to_i }`, JRuby 1.7: `map(&:to_i)` |
| Nil Handling | MRI: `compact.sum`, JRuby 10: `compact.sum`, JRuby 1.7: `|| default` |
| Object Duplication | `to_h` |
| Method Invocation | `direct` |
